<!DOCTYPE html>
<html lang="en-US">
   <head>
      <title> Step Artist</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
      <!-- Optional theme -->
      <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
      <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/vue"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
      <link rel="stylesheet" type="text/css" href="./style.css" />
      <script src="./script.js"></script>
   </head>
   <style>
      /*img {
      height: 200px;
      }*/
   </style>
   <body >
      <div id='app'>
         <div v-if="start == false" class='main-menu'>
            <div class="banner">
               <svg viewBox="0 0 960 300">
                  <symbol id="s-text">
                     <text text-anchor="middle" x="50%" y="65%">Step Artist</text>
                  </symbol>
                  <g class = "g-ants">
                     <use xlink:href="#s-text" class="text-copy"></use>
                     <use xlink:href="#s-text" class="text-copy"></use>
                     <use xlink:href="#s-text" class="text-copy"></use>
                     <use xlink:href="#s-text" class="text-copy"></use>
                     <use xlink:href="#s-text" class="text-copy"></use>
                  </g>
               </svg>
            </div>
            <div class="buttons">
               <button @click="startGame" type="button" class="btn" id="start">Start Drawing</button>
               <button id="tutorial" type="button" class="btn">Tutorial</button>
            </div>
            <div class="tutorial">

            </div>
         </div>
         <div v-if="recording">
            <button class="btn btn-danger" v-on:click="recordingHandler" aria-label="Left Align" >
               <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-record-circle" viewBox="0 0 16 16">
                  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                  <path d="M11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
               </svg>
               Recording
            </button>
         </div>
         <div v-else>
            <button class="btn btn-outline-danger" v-on:click="recordingHandler">Record</button>
         </div>
         
         <button class="btn btn-primary" v-on:click="endHandler" data-bs-toggle="modal" data-bs-target="#finalImage">End Path</button>
         <div>
            <input type="color" name="head" id="color" v-bind:value="color" v-model="color">
            <label for="head">Path Color</label>
         </div>

         <!-- Button trigger modal -->
         <button type="button" @click="renderEnd"class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#finalImage">
            Render Final Image
         </button>

         <button class="btn btn-primary" @click="toStart" data-bs-toggle="modal" data-bs-target="#restartImageModal">Back to Start Menu</button>
         <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#restartImageModal">New Image</button>

         <!-- Modal for Restart Image -->
         <div class="modal fade" id="restartImageModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
            <div class="modal-content">
               <div class="modal-body">
                  All progress will be lost on the current image. Are you sure you still want to proceed?
               </div>
               <div class="modal-footer">
                  <button type="button" @click="close" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="button" @click="restartImage" class="btn btn-primary" data-bs-dismiss="modal">Proceed</button>
               </div>
            </div>
            </div>
         </div>
         
         <!-- Modal for Final Image -->
         <div class="modal fade" id="finalImage" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">My Step Art</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                  <img v-bind:src="image_url">
                  <p>Steps to Share to Twitter:</p>
                  <p>Step 1: Save the image</p>
                  <button class="btn btn-primary" @click="download_image()">Download!</button>
                  <br>
                  <p>Step 2: Upload the image to the tweet!</p>
                  <button class= "btn btn-primary" @click="shareToTwit">Share to Twitter!</button>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
               </div>
            </div>
            </div>
         </div>
      </div>
      <div id="map"></div>   
      <script src="script.js"></script>
      <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
      <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAb-WxU0LPAk9xKev3DjNGxC90rmJH9V0E&callback=resultView.updateMap&v=weekly"
      async
      ></script>
   </body>
</html>
